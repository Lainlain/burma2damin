import{e as Re,h as ne,i as ae,f as xe,j as ze,k as $e,n as je,v as Ee}from"./VTextField-_cR0O_Sp.js";import{p as $,g as Q,a5 as Ge,w as X,B as x,ai as oe,e as Y,a7 as re,a8 as Ne,m as Le,a as se,A as Me,I as ie,f as Oe,af as Ue}from"./vuetify-e3zVlVid.js";import{e as m,b as M,t as d,s as J,j as _e,A,D as z,G as y,F as O,B as U,I as ce,m as de,K as fe,p as Ke,v as We,O as qe,d as He}from"./vue-vendor-UqzHlSlI.js";import{V as Je}from"./VChip-CGXf3eV_.js";import{w as Qe,U as ue,a as Xe,s as Ye,u as Ze,t as et}from"./index-BIT7kh2I.js";function tt(){function e(u){var n,o;return[...((n=u.dataTransfer)==null?void 0:n.items)??[]].filter(s=>s.kind==="file").map(s=>s.webkitGetAsEntry()).filter(Boolean).length>0||[...((o=u.dataTransfer)==null?void 0:o.files)??[]].length>0}async function i(u){var o,s;const a=[],n=[...((o=u.dataTransfer)==null?void 0:o.items)??[]].filter(l=>l.kind==="file").map(l=>l.webkitGetAsEntry()).filter(Boolean);if(n.length)for(const l of n){const c=await ve(l,me(".",l));a.push(...c.map(g=>g.file))}else a.push(...((s=u.dataTransfer)==null?void 0:s.files)??[]);return a}return{handleDrop:i,hasFilesOrFolders:e}}function ve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((u,a)=>{e.isFile?e.file(o=>u([{file:o,path:i}]),a):e.isDirectory&&e.createReader().readEntries(async o=>{const s=[];for(const l of o)s.push(...await ve(l,me(i,l)));u(s)})})}function me(e,i){return i.isDirectory?`${e}/${i.name}`:e}const lt=$({filterByType:String},"file-accept");function nt(e){const i=m(()=>e.filterByType?at(e.filterByType):null);function u(a){if(i.value){const n=a.filter(i.value);return{accepted:n,rejected:a.filter(o=>!n.includes(o))}}return{accepted:a,rejected:[]}}return{filterAccepted:u}}function at(e){const i=e.split(",").map(o=>o.trim().toLowerCase()),u=i.filter(o=>o.startsWith(".")),a=i.filter(o=>o.endsWith("/*")),n=i.filter(o=>!u.includes(o)&&!a.includes(o));return o=>{var c,g;const s=((c=o.name.split(".").at(-1))==null?void 0:c.toLowerCase())??"",l=((g=o.type.split("/").at(0))==null?void 0:g.toLowerCase())??"";return n.includes(o.type)||u.includes(`.${s}`)||a.includes(`${l}/*`)}}const ot=$({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...$e({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>x(e).every(i=>i!=null&&typeof i=="object")},...lt(),...ze({clearable:!0})},"VFileInput"),mt=Q()({name:"VFileInput",inheritAttrs:!1,props:ot(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,i){let{attrs:u,emit:a,slots:n}=i;const{t:o}=Ge(),{filterAccepted:s}=nt(e),l=X(e,"modelValue",e.modelValue,t=>x(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:c,focus:g,blur:w}=Re(e),k=m(()=>typeof e.showSize!="boolean"?e.showSize:void 0),D=m(()=>(l.value??[]).reduce((t,r)=>{let{size:p=0}=r;return t+p},0)),h=m(()=>oe(D.value,k.value)),v=m(()=>(l.value??[]).map(t=>{const{name:r="",size:p=0}=t,I=be(r);return e.showSize?`${I} (${oe(p,k.value)})`:I})),V=m(()=>{var r;const t=((r=l.value)==null?void 0:r.length)??0;return e.showSize?o(e.counterSizeString,t,h.value):o(e.counterString,t)}),b=M(),S=M(),f=M(),j=d(()=>c.value||e.active),P=m(()=>["plain","underlined"].includes(e.variant)),B=J(!1),{handleDrop:_,hasFilesOrFolders:C}=tt();function T(){var t;f.value!==document.activeElement&&((t=f.value)==null||t.focus()),c.value||g()}function K(t){var r;(r=f.value)==null||r.click()}function E(t){a("mousedown:control",t)}function G(t){var r;(r=f.value)==null||r.click(),a("click:control",t)}function N(t){t.stopPropagation(),T(),ce(()=>{l.value=[],Ne(e["onClick:clear"],t)})}function be(t){if(t.length<Number(e.truncateLength))return t;const r=Math.floor((Number(e.truncateLength)-1)/2);return`${t.slice(0,r)}â€¦${t.slice(t.length-r)}`}function he(t){t.preventDefault(),t.stopImmediatePropagation(),B.value=!0}function Ce(t){t.preventDefault(),B.value=!1}async function Ve(t){if(t.preventDefault(),t.stopImmediatePropagation(),B.value=!1,!f.value||!C(t))return;const r=await _(t);Z(r)}function ke(t){if(!(!t.target||t.repack))if(e.filterByType)Z([...t.target.files]);else{const r=t.target;l.value=[...r.files??[]]}}function Z(t){const r=new DataTransfer,{accepted:p,rejected:I}=s(t);I.length&&a("rejected",I);for(const q of p)r.items.add(q);f.value.files=r.files,l.value=[...r.files];const W=new Event("change",{bubbles:!0});W.repack=!0,f.value.dispatchEvent(W)}return _e(l,t=>{(!Array.isArray(t)||!t.length)&&f.value&&(f.value.value="")}),Y(()=>{const t=!!(n.counter||e.counter),r=!!(t||n.details),[p,I]=re(u),{modelValue:W,...q}=ne.filterProps(e),Se={...ae.filterProps(e),"onClick:clear":N},pe=u.webkitdirectory!==void 0&&u.webkitdirectory!==!1,Ie=u.accept?String(u.accept):void 0,Fe=pe?void 0:e.filterByType??Ie;return A(ne,z({ref:b,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":B.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":P.value},e.class],style:e.style,"onClick:prepend":K},p,q,{centerAffix:!P.value,focused:c.value}),{...n,default:H=>{let{id:L,isDisabled:R,isDirty:ee,isReadonly:te,isValid:we,hasDetails:De}=H;return A(ae,z({ref:S,prependIcon:e.prependIcon,onMousedown:E,onClick:G,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Se,{id:L.value,active:j.value||ee.value,dirty:ee.value||e.dirty,disabled:R.value,focused:c.value,details:De.value,error:we.value===!1,onDragover:he,onDrop:Ve}),{...n,default:Be=>{var le;let{props:{class:Ae,...Pe},controlRef:Te}=Be;return y(O,null,[y("input",z({ref:F=>f.value=Te.value=F,type:"file",accept:Fe,readonly:te.value,disabled:R.value,multiple:e.multiple,name:e.name,onClick:F=>{F.stopPropagation(),te.value&&F.preventDefault(),T()},onChange:ke,onDragleave:Ce,onFocus:T,onBlur:w},Pe,I),null),y("div",{class:U(Ae)},[!!((le=l.value)!=null&&le.length)&&!e.hideInput&&(n.selection?n.selection({fileNames:v.value,totalBytes:D.value,totalBytesReadable:h.value}):e.chips?v.value.map(F=>A(Je,{key:F,size:"small",text:F},null)):v.value.join(", "))])])}})},details:r?H=>{var L,R;return y(O,null,[(L=n.details)==null?void 0:L.call(n,H),t&&y(O,null,[y("span",null,null),A(je,{active:!!((R=l.value)!=null&&R.length),value:V.value,disabled:e.disabled},n.counter)])])}:void 0})}),xe({},b,S,f)}}),ye=Symbol.for("vuetify:selection-control-group"),ge=$({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ie,trueIcon:ie,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Me},...se(),...Qe(),...Le()},"SelectionControlGroup"),it=$({...ge({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Q()({name:"VSelectionControlGroup",props:it(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:u}=i;const a=X(e,"modelValue"),n=de(),o=d(()=>e.id||`v-selection-control-group-${n}`),s=d(()=>e.name||o.value),l=new Set;return Ke(ye,{modelValue:a,forceUpdate:()=>{l.forEach(c=>c())},onForceUpdate:c=>{l.add(c),We(()=>{l.delete(c)})}}),Oe({[e.defaultsTarget]:{color:d(()=>e.color),disabled:d(()=>e.disabled),density:d(()=>e.density),error:d(()=>e.error),inline:d(()=>e.inline),modelValue:a,multiple:d(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:s,falseIcon:d(()=>e.falseIcon),trueIcon:d(()=>e.trueIcon),readonly:d(()=>e.readonly),ripple:d(()=>e.ripple),type:d(()=>e.type),valueComparator:d(()=>e.valueComparator)}}),Y(()=>{var c;return y("div",{class:U(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:fe(e.style),role:e.type==="radio"?"radiogroup":void 0},[(c=u.default)==null?void 0:c.call(u)])}),{}}});const ut=$({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...se(),...ge()},"VSelectionControl");function rt(e){const i=He(ye,void 0),{densityClasses:u}=Ye(e),a=X(e,"modelValue"),n=m(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=m(()=>e.falseValue!==void 0?e.falseValue:!1),s=m(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),l=m({get(){const h=i?i.modelValue.value:a.value;return s.value?x(h).some(v=>e.valueComparator(v,n.value)):e.valueComparator(h,n.value)},set(h){if(e.readonly)return;const v=h?n.value:o.value;let V=v;s.value&&(V=h?[...x(a.value),v]:x(a.value).filter(b=>!e.valueComparator(b,n.value))),i?i.modelValue.value=V:a.value=V}}),{textColorClasses:c,textColorStyles:g}=Ze(()=>{if(!(e.error||e.disabled))return l.value?e.color:e.baseColor}),{backgroundColorClasses:w,backgroundColorStyles:k}=et(()=>l.value&&!e.error&&!e.disabled?e.color:e.baseColor),D=m(()=>l.value?e.trueIcon:e.falseIcon);return{group:i,densityClasses:u,trueValue:n,falseValue:o,model:l,textColorClasses:c,textColorStyles:g,backgroundColorClasses:w,backgroundColorStyles:k,icon:D}}const yt=Q()({name:"VSelectionControl",directives:{vRipple:ue},inheritAttrs:!1,props:ut(),emits:{"update:modelValue":e=>!0},setup(e,i){let{attrs:u,slots:a}=i;const{group:n,densityClasses:o,icon:s,model:l,textColorClasses:c,textColorStyles:g,backgroundColorClasses:w,backgroundColorStyles:k,trueValue:D}=rt(e),h=de(),v=J(!1),V=J(!1),b=M(),S=d(()=>e.id||`input-${h}`),f=d(()=>!e.disabled&&!e.readonly);n==null||n.onForceUpdate(()=>{b.value&&(b.value.checked=l.value)});function j(C){f.value&&(v.value=!0,Ue(C.target,":focus-visible")!==!1&&(V.value=!0))}function P(){v.value=!1,V.value=!1}function B(C){C.stopPropagation()}function _(C){if(!f.value){b.value&&(b.value.checked=l.value);return}e.readonly&&n&&ce(()=>n.forceUpdate()),l.value=C.target.checked}return Y(()=>{var G,N;const C=a.label?a.label({label:e.label,props:{for:S.value}}):e.label,[T,K]=re(u),E=y("input",z({ref:b,checked:l.value,disabled:!!e.disabled,id:S.value,onBlur:P,onFocus:j,onInput:_,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:D.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},K),null);return y("div",z({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":v.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},o.value,e.class]},T,{style:e.style}),[y("div",{class:U(["v-selection-control__wrapper",c.value]),style:fe(g.value)},[(G=a.default)==null?void 0:G.call(a,{backgroundColorClasses:w,backgroundColorStyles:k}),qe(y("div",{class:U(["v-selection-control__input"])},[((N=a.input)==null?void 0:N.call(a,{model:l,textColorClasses:c,textColorStyles:g,backgroundColorClasses:w,backgroundColorStyles:k,inputNode:E,icon:s.value,props:{onFocus:j,onBlur:P,id:S.value}}))??y(O,null,[s.value&&A(Xe,{key:"icon",icon:s.value},null),E])]),[[ue,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),C&&A(Ee,{for:S.value,onClick:B},{default:()=>[C]})])}),{isFocused:v,input:b}}});export{mt as V,yt as a,ut as m};
