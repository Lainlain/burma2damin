import{c,V as b,a as y,e as w,b as f,d as C,f as A}from"./VCard-Dx7sTbne.js";import{_ as $,a as d,b as T,i as p,V as B}from"./index-BIT7kh2I.js";import{V as F,a as E}from"./VTextField-_cR0O_Sp.js";import{V as S}from"./VForm-alRvmnZJ.js";import{b as v,l as I,_ as M,A as t,V as D,Y as l,X as u,Z as s,a3 as U,G as i,F as q,$ as W,U as k}from"./vue-vendor-UqzHlSlI.js";import"./vuetify-e3zVlVid.js";import"./axios-R-lXtGyY.js";const G={class:"text-caption text-grey mb-1"},L={class:"text-center my-2"},O={class:"text-h3 font-weight-bold result-number"},P={__name:"ThreeDManagement",setup(X){const x=v(!1),n=v(!1),g=v(!1),V=v([]),o=v({date:"",result:""}),_=async()=>{x.value=!0;try{const r=await y.get("/api/burma2d/3d");console.log("3D Results:",r.data),V.value=r.data||[]}catch(r){console.error("Error fetching 3D results:",r),V.value=[]}finally{x.value=!1}},Y=()=>{g.value=!1;const r=new Date().toISOString().split("T")[0];o.value={date:r,result:""},n.value=!0},R=r=>{g.value=!0,o.value={date:r.draw_date,result:r.winning_number,result_id:r.result_id},n.value=!0},z=async()=>{var r,e;try{g.value?await y.put(`/api/admin/threed/${o.value.result_id}`,o.value):await y.post("/api/admin/threed",o.value),n.value=!1,await _()}catch(a){console.error("Error saving 3D result:",a),alert("Error: "+(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.error)||a.message))}},N=async r=>{var e,a;if(confirm("Are you sure you want to delete this 3D result?"))try{await y.delete(`/api/admin/threed/${r.result_id}`),await _()}catch(m){console.error("Error deleting 3D result:",m),alert("Error: "+(((a=(e=m.response)==null?void 0:e.data)==null?void 0:a.error)||m.message))}};return I(()=>{_()}),(r,e)=>(u(),M("div",null,[t(c,{class:"mb-4"},{default:l(()=>[t(w,{class:"d-flex align-center"},{default:l(()=>[t(d,{class:"mr-2"},{default:l(()=>[...e[4]||(e[4]=[s("mdi-dice-3",-1)])]),_:1}),e[7]||(e[7]=s(" 3D Results Management ",-1)),t(T),t(p,{color:"primary",onClick:Y},{default:l(()=>[t(d,{left:""},{default:l(()=>[...e[5]||(e[5]=[s("mdi-plus",-1)])]),_:1}),e[6]||(e[6]=s(" Add Result ",-1))]),_:1})]),_:1})]),_:1}),x.value?(u(),D(b,{key:0},{default:l(()=>[t(f,{cols:"12",class:"text-center"},{default:l(()=>[t(B,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):(u(),D(b,{key:1},{default:l(()=>[V.value.length===0?(u(),D(f,{key:0,cols:"12"},{default:l(()=>[t(c,null,{default:l(()=>[t(C,{class:"text-center pa-8"},{default:l(()=>[t(d,{size:"64",color:"grey"},{default:l(()=>[...e[8]||(e[8]=[s("mdi-dice-3-outline",-1)])]),_:1}),e[9]||(e[9]=i("div",{class:"text-h6 mt-4 text-grey"},"No 3D results yet",-1)),e[10]||(e[10]=i("div",{class:"text-caption text-grey"},'Click "Add Result" to create your first 3D result',-1))]),_:1})]),_:1})]),_:1})):U("",!0),(u(!0),M(q,null,W(V.value,a=>(u(),D(f,{key:a.result_id,cols:"12",sm:"6",md:"4",lg:"3"},{default:l(()=>[t(c,{elevation:"1",class:"result-card"},{default:l(()=>[t(C,{class:"pa-2"},{default:l(()=>[i("div",G,[t(d,{size:"small",class:"mr-1"},{default:l(()=>[...e[11]||(e[11]=[s("mdi-calendar",-1)])]),_:1}),s(" "+k(a.draw_date),1)]),i("div",L,[i("div",O,k(a.winning_number),1),e[12]||(e[12]=i("div",{class:"text-caption text-grey mt-1"},"Winning Number",-1))]),t(b,{"no-gutters":"",class:"mt-2"},{default:l(()=>[t(f,{cols:"6",class:"pr-1"},{default:l(()=>[t(p,{block:"",color:"primary",size:"small",onClick:m=>R(a)},{default:l(()=>[t(d,{left:"",size:"small"},{default:l(()=>[...e[13]||(e[13]=[s("mdi-pencil",-1)])]),_:1}),e[14]||(e[14]=s(" Edit ",-1))]),_:1},8,["onClick"])]),_:2},1024),t(f,{cols:"6",class:"pl-1"},{default:l(()=>[t(p,{block:"",color:"error",size:"small",onClick:m=>N(a)},{default:l(()=>[t(d,{left:"",size:"small"},{default:l(()=>[...e[15]||(e[15]=[s("mdi-delete",-1)])]),_:1}),e[16]||(e[16]=s(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),t(F,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=a=>n.value=a),"max-width":"600px"},{default:l(()=>[t(c,null,{default:l(()=>[t(w,null,{default:l(()=>[t(d,{class:"mr-2"},{default:l(()=>[...e[17]||(e[17]=[s("mdi-dice-3",-1)])]),_:1}),s(" "+k(g.value?"Edit 3D Result":"Add 3D Result"),1)]),_:1}),t(C,null,{default:l(()=>[t(S,{ref:"form"},{default:l(()=>[t(E,{modelValue:o.value.date,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.date=a),label:"Date (YYYY-MM-DD)","prepend-icon":"mdi-calendar",required:"",hint:"Format: YYYY-MM-DD (e.g., 2025-10-30)","persistent-hint":"",class:"mb-4",type:"date"},null,8,["modelValue"]),t(E,{modelValue:o.value.result,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.result=a),label:"Winning Number","prepend-icon":"mdi-numeric",required:"",hint:"Enter the 3D winning number","persistent-hint":""},null,8,["modelValue"])]),_:1},512)]),_:1}),t(A,null,{default:l(()=>[t(T),t(p,{onClick:e[2]||(e[2]=a=>n.value=!1)},{default:l(()=>[...e[18]||(e[18]=[s("Cancel",-1)])]),_:1}),t(p,{color:"primary",onClick:z},{default:l(()=>[t(d,{left:""},{default:l(()=>[...e[19]||(e[19]=[s("mdi-content-save",-1)])]),_:1}),e[20]||(e[20]=s(" Save ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ee=$(P,[["__scopeId","data-v-fd04df69"]]);export{ee as default};
