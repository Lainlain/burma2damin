import{V as _,a as p,b as u,c as b,d as x,e as h}from"./VCard-BN-9dMPE.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as V,l as N,_ as k,V as c,a3 as w,Y as t,X as r,A as s,G as a,F as S,$ as L,Z as i,U as o,B as T}from"./vue-vendor-UqzHlSlI.js";import{V as G,a as m,b as E,c as F,d as j,e as H,f as O,g as Q,h as U,i as C}from"./index-CdoThgVj.js";import{V as X}from"./VChip-Bqz0304V.js";import"./vuetify-e3zVlVid.js";import"./axios-R-lXtGyY.js";const Y={class:"d-flex align-center flex-column flex-md-row"},Z={class:"text-center text-md-left"},q={class:"text-center"},J={class:"text-h6"},K={class:"text-center"},W={class:"text-h4 font-weight-bold text-primary"},tt={class:"text-center"},et={class:"text-h6"},st={class:"text-center"},lt={class:"text-h5 font-weight-bold"},at={class:"text-caption"},it={class:"text-center"},ot={class:"text-h5 font-weight-bold"},rt={class:"text-caption"},dt={class:"text-white"},nt={key:1,class:"text-center text-grey py-4"},ut={__name:"Dashboard",setup(ft){const g=V(!0),f=V([{title:"Total Gifts",value:"0",icon:"mdi-gift",color:"primary"},{title:"Active Sliders",value:"0",icon:"mdi-image-multiple",color:"secondary"},{title:"Total Papers",value:"0",icon:"mdi-newspaper",color:"info"},{title:"3D Results",value:"0",icon:"mdi-dice-3",color:"success"}]),d=V(null),D=V([]),R=async()=>{g.value=!0;try{const n=await p.get("/api/burma2d/gifts"),e=Object.values(n.data).flat().length;f.value[0].value=e.toString();const v=(await p.get("/api/burma2d/sliders")).data.filter(y=>y.is_visible).length;f.value[1].value=v.toString();try{const y=await p.get("/api/burma2d/papers/types");let $=0;for(const z of y.data){const A=await p.get(`/api/burma2d/papers/types/${z.type_id}/images`);$+=A.data.length}f.value[2].value=$.toString()}catch(y){console.error("Error fetching papers:",y)}const I=await p.get("/api/burma2d/3d");f.value[3].value=I.data.length.toString();const M=await p.get("/api/burma2d/live");d.value=M.data;const P=await p.get("/api/burma2d/history");D.value=P.data}catch(n){console.error("Error fetching dashboard data:",n)}finally{g.value=!1}};return N(()=>{R(),setInterval(R,3e4)}),(n,e)=>(r(),k("div",null,[g.value?(r(),c(_,{key:0,class:"mt-4"},{default:t(()=>[s(u,{cols:"12",class:"text-center"},{default:t(()=>[s(G,{indeterminate:"",color:"primary",size:"64"}),e[4]||(e[4]=a("div",{class:"mt-4 text-h6"},"Loading dashboard data...",-1))]),_:1})]),_:1})):(r(),c(_,{key:1},{default:t(()=>[(r(!0),k(S,null,L(f.value,l=>(r(),c(u,{cols:"6",md:"3",key:l.title},{default:t(()=>[s(b,{elevation:"2",class:"stat-card"},{default:t(()=>[s(x,null,{default:t(()=>[a("div",Y,[s(m,{color:l.color,size:n.$vuetify.display.mobile?36:48,class:"mb-2 mb-md-0 mr-md-4"},{default:t(()=>[i(o(l.icon),1)]),_:2},1032,["color","size"]),a("div",Z,[a("div",{class:T(n.$vuetify.display.mobile?"text-h5":"text-h4")},o(l.value),3),a("div",{class:T([n.$vuetify.display.mobile?"text-caption":"text-subtitle-1","text-grey"])},o(l.title),3)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),g.value?w("",!0):(r(),c(_,{key:2,class:"mt-4"},{default:t(()=>[s(u,{cols:"12"},{default:t(()=>[s(b,null,{default:t(()=>[s(h,{class:"d-flex align-center"},{default:t(()=>[s(m,{class:"mr-2",color:"error"},{default:t(()=>[...e[5]||(e[5]=[i("mdi-cards-playing",-1)])]),_:1}),e[7]||(e[7]=i(" Live Lottery Data ",-1)),s(E),d.value?(r(),c(X,{key:0,color:"success",variant:"flat"},{default:t(()=>[s(m,{left:"",size:"small"},{default:t(()=>[...e[6]||(e[6]=[i("mdi-circle",-1)])]),_:1}),i(" "+o(d.value.service_status),1)]),_:1})):w("",!0)]),_:1}),d.value?(r(),c(x,{key:0},{default:t(()=>[s(_,null,{default:t(()=>[s(u,{cols:"12",md:"4"},{default:t(()=>[a("div",q,[e[8]||(e[8]=a("div",{class:"text-caption text-grey"},"Draw Date",-1)),a("div",J,o(d.value.draw_date),1)])]),_:1}),s(u,{cols:"12",md:"4"},{default:t(()=>[a("div",K,[e[9]||(e[9]=a("div",{class:"text-caption text-grey"},"Live Number",-1)),a("div",W,o(d.value.live_number),1)])]),_:1}),s(u,{cols:"12",md:"4"},{default:t(()=>[a("div",tt,[e[10]||(e[10]=a("div",{class:"text-caption text-grey"},"Active Viewers",-1)),a("div",et,"ðŸ‘ "+o(d.value.active_viewers),1)])]),_:1})]),_:1}),s(F,{class:"my-4"}),s(_,null,{default:t(()=>[s(u,{cols:"6"},{default:t(()=>[a("div",st,[e[11]||(e[11]=a("div",{class:"text-subtitle-2 text-grey"},"â˜€ï¸ 12:01 PM",-1)),a("div",lt,o(d.value.noon_result),1),a("div",at,"Set: "+o(d.value.noon_set),1)])]),_:1}),s(u,{cols:"6"},{default:t(()=>[a("div",it,[e[12]||(e[12]=a("div",{class:"text-subtitle-2 text-grey"},"ðŸŒ™ 4:30 PM",-1)),a("div",ot,o(d.value.evening_result),1),a("div",rt,"Set: "+o(d.value.evening_set),1)])]),_:1})]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1})]),_:1})),g.value?w("",!0):(r(),c(_,{key:3,class:"mt-4"},{default:t(()=>[s(u,{cols:"12",md:"6"},{default:t(()=>[s(b,null,{default:t(()=>[s(h,null,{default:t(()=>[s(m,{class:"mr-2"},{default:t(()=>[...e[13]||(e[13]=[i("mdi-history",-1)])]),_:1}),e[14]||(e[14]=i(" Recent 2D History ",-1))]),_:1}),s(x,null,{default:t(()=>[D.value.length>0?(r(),c(j,{key:0},{default:t(()=>[(r(!0),k(S,null,L(D.value.slice(0,5),l=>(r(),c(H,{key:l.history_id},{prepend:t(()=>[s(U,{color:"primary",size:"40"},{default:t(()=>[a("span",dt,o(l.draw_date.split("/")[2]),1)]),_:2},1024)]),default:t(()=>[s(O,null,{default:t(()=>[i(o(l.draw_date),1)]),_:2},1024),s(Q,null,{default:t(()=>[i(" 12:01 â†’ "+o(l.noon_result)+" | 4:30 â†’ "+o(l.evening_result),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(r(),k("div",nt," No history data available "))]),_:1})]),_:1})]),_:1}),s(u,{cols:"12",md:"6"},{default:t(()=>[s(b,null,{default:t(()=>[s(h,null,{default:t(()=>[s(m,{class:"mr-2"},{default:t(()=>[...e[15]||(e[15]=[i("mdi-lightning-bolt",-1)])]),_:1}),e[16]||(e[16]=i(" Quick Actions ",-1))]),_:1}),s(x,null,{default:t(()=>[s(C,{block:"",color:"primary",class:"mb-2",onClick:e[0]||(e[0]=l=>n.$router.push("/gifts"))},{default:t(()=>{var l;return[s(m,{left:""},{default:t(()=>[...e[17]||(e[17]=[i("mdi-gift",-1)])]),_:1}),i(" Manage Gifts ("+o(((l=f.value.find(v=>v.title==="Total Gifts"))==null?void 0:l.value)||0)+") ",1)]}),_:1}),s(C,{block:"",color:"secondary",class:"mb-2",onClick:e[1]||(e[1]=l=>n.$router.push("/sliders"))},{default:t(()=>{var l;return[s(m,{left:""},{default:t(()=>[...e[18]||(e[18]=[i("mdi-image-multiple",-1)])]),_:1}),i(" Manage Sliders ("+o(((l=f.value.find(v=>v.title==="Active Sliders"))==null?void 0:l.value)||0)+") ",1)]}),_:1}),s(C,{block:"",color:"info",class:"mb-2",onClick:e[2]||(e[2]=l=>n.$router.push("/papers"))},{default:t(()=>{var l;return[s(m,{left:""},{default:t(()=>[...e[19]||(e[19]=[i("mdi-newspaper",-1)])]),_:1}),i(" Manage Papers ("+o(((l=f.value.find(v=>v.title==="Total Papers"))==null?void 0:l.value)||0)+") ",1)]}),_:1}),s(C,{block:"",color:"success",onClick:e[3]||(e[3]=l=>n.$router.push("/threed"))},{default:t(()=>{var l;return[s(m,{left:""},{default:t(()=>[...e[20]||(e[20]=[i("mdi-dice-3",-1)])]),_:1}),i(" Manage 3D Results ("+o(((l=f.value.find(v=>v.title==="3D Results"))==null?void 0:l.value)||0)+") ",1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]))}},bt=B(ut,[["__scopeId","data-v-ff4afd5e"]]);export{bt as default};
